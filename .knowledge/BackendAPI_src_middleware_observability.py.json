{"is_source_file": true, "format": "Python", "description": "This file contains middleware implementation for observability in a FastAPI/Starlette application, including request logging, metrics collection, and correlation ID management.", "external_files": ["src.core.logging", "src.services.observability"], "external_methods": ["get_logger", "set_correlation_id", "clear_correlation_id", "get_correlation_id", "send_log", "send_metric"], "published": [], "classes": [{"name": "ObservabilityMiddleware", "description": "Middleware class handling request logging, metrics, and correlation ID propagation."}], "methods": [{"name": "Response dispatch(self, request: Request, call_next: Callable)", "description": "Asynchronous method handling the request lifecycle, logging, metrics, exception handling, and response augmentation.", "scope": "ObservabilityMiddleware", "scopeKind": "class"}], "calls": ["time.perf_counter", "starlette.middleware.base.BaseHTTPMiddleware", "starlette.requests.Request", "starlette.responses.Response", "src.core.logging.get_logger", "src.core.logging.set_correlation_id", "src.core.logging.clear_correlation_id", "src.core.logging.get_correlation_id", "src.services.observability.send_log", "src.services.observability.send_metric"], "search-terms": ["ObservabilityMiddleware", "FastAPI middleware", "correlation ID", "request logging", "request metrics", "request latency", "X-Request-ID", "X-Correlation-ID", "monitoring", "logging"], "state": 2, "file_id": 30, "knowledge_revision": 76, "git_revision": "", "ctags": [{"_type": "tag", "name": "ObservabilityMiddleware", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22055/BackendAPI/src/middleware/observability.py", "pattern": "/^class ObservabilityMiddleware(BaseHTTPMiddleware):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "dispatch", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22055/BackendAPI/src/middleware/observability.py", "pattern": "/^    async def dispatch(self, request: Request, call_next: Callable) -> Response:$/", "language": "Python", "typeref": "typename:Response", "kind": "member", "signature": "(self, request: Request, call_next: Callable)", "scope": "ObservabilityMiddleware", "scopeKind": "class"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22055/BackendAPI/src/middleware/observability.py", "pattern": "/^logger = get_logger(\"observability.middleware\")$/", "language": "Python", "kind": "variable"}], "hash": "46b50fe35c619229c4817182ec97906f", "format-version": 4, "code-base-name": "BackendAPI", "filename": "BackendAPI/src/middleware/observability.py", "fields": [{"name": "logger = get_logger(\"observability.middleware\")", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"76": ""}]}