{"is_source_file": true, "format": "Python", "description": "This file implements a streaming service module for a backend API, providing functions to start and stop streaming sessions, validate tracks, and record playback history events using SQLAlchemy ORM models.", "external_files": ["src/db/models.py"], "external_methods": ["sqlalchemy.select", "sqlalchemy.orm.Session.execute"], "published": ["start_streaming_session", "stop_streaming_session"], "classes": [{"name": "StreamSession", "description": "A lightweight data class representing an active streaming session, including user ID, track ID, stream URL, and start time."}], "methods": [{"name": "_now_utc", "description": "Returns the current UTC datetime."}, {"name": "start_streaming_session", "description": "Starts a streaming session by validating the track, recording a start event, and returning session details."}, {"name": "stop_streaming_session", "description": "Stops a streaming session by recording a stop event with the played duration."}], "calls": ["sqlalchemy.select", "db.execute", "db.add", "db.commit", "db.rollback"], "search-terms": ["streaming session", "PlaybackHistory", "start_streaming_session", "stop_streaming_session", "track validation", "audio_url", "session persistence"], "state": 2, "file_id": 24, "knowledge_revision": 91, "git_revision": "5962b30c699a9169ff1ce493af7397a070daeea0", "revision_history": [{"61": ""}, {"91": "5962b30c699a9169ff1ce493af7397a070daeea0"}], "ctags": [], "filename": "BackendAPI/src/services/streaming.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/music-streaming-service-21915-22055.git:kavia-main"}