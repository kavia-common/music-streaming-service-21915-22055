{"is_source_file": true, "format": "Python", "description": "This file defines dependencies for FastAPI related to database sessions and user authentication, including functions to get the current user and admin, utilizing JWT tokens and database models.", "external_files": ["src.core.security", "src.db.session", "src.db.models", "src.db.crud"], "external_methods": ["decode_token", "get_user_by_email"], "published": ["get_db", "get_current_user", "get_current_admin"], "classes": [], "methods": [{"name": "get_db", "description": "Provides a generator yielding a database session for request lifecycle."}, {"name": "get_current_user", "description": "Extracts and validates JWT Bearer token, loads current user, raises HTTP exceptions if invalid or inactive."}, {"name": "get_current_admin", "description": "Ensures the current user has admin privileges, raises HTTP 403 if not."}], "calls": ["src.core.security.decode_token", "src.db.crud.get_user_by_email", "db.get"], "search-terms": ["FastAPI dependencies", "JWT authentication", "get_current_user", "get_current_admin", "database session dependency"], "state": 2, "file_id": 17, "knowledge_revision": 87, "git_revision": "2f35465fb3dd7eda4c3e06522087464970d9b9e7", "revision_history": [{"41": ""}, {"87": "2f35465fb3dd7eda4c3e06522087464970d9b9e7"}], "ctags": [], "filename": "BackendAPI/src/api/deps.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/music-streaming-service-21915-22055.git:kavia-main"}