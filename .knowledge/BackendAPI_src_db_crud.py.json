{"is_source_file": true, "format": "Python", "description": "This file contains data access helper functions for a music streaming backend API, including user management, playlist operations, and catalog search, utilizing SQLAlchemy ORM.", "external_files": ["src.core.security", "src.db.models", "src.schemas.users", "sqlalchemy", "typing"], "external_methods": ["hash_password", "verify_password", "create_access_token", "select", "update", "delete", "func.lower", "func.coalesce", "select", "Session.execute", "Session.commit", "Session.refresh", "Session.rollback"], "published": ["get_user_by_email", "create_user", "authenticate_user", "update_user_profile", "list_user_playlists", "create_playlist", "get_playlist", "update_playlist", "delete_playlist", "list_playlist_tracks", "add_track_to_playlist", "remove_track_from_playlist", "search_catalog"], "classes": [], "methods": [{"name": "get_user_by_email", "description": "Retrieve a user record from the database by email address."}, {"name": "create_user", "description": "Register a new user with hashed password, handling integrity errors."}, {"name": "authenticate_user", "description": "Verify user credentials and generate an access token if valid."}, {"name": "update_user_profile", "description": "Update user profile fields in the database."}, {"name": "list_user_playlists", "description": "Retrieve all playlists belonging to a specific user."}, {"name": "create_playlist", "description": "Create a new playlist for a user, handling name conflicts."}, {"name": "get_playlist", "description": "Fetch a playlist by ID, optionally restricted to owner."}, {"name": "update_playlist", "description": "Update playlist details such as name, description, cover image, and visibility."}, {"name": "delete_playlist", "description": "Remove a playlist by ID for a specific user."}, {"name": "list_playlist_tracks", "description": "List all tracks in a playlist ordered by position."}, {"name": "add_track_to_playlist", "description": "Add a track to a playlist at a specified or next available position."}, {"name": "remove_track_from_playlist", "description": "Remove a specific track from a playlist."}, {"name": "search_catalog", "description": "Search for tracks, artists, and albums with optional filters and pagination."}], "calls": ["select", "update", "delete", "func.lower", "func.coalesce", "db.execute", "db.commit", "db.refresh", "db.rollback", "hash_password", "verify_password", "create_access_token"], "search-terms": ["SQLAlchemy data access", "music streaming backend", "playlist management", "user authentication", "catalog search"], "state": 2, "file_id": 10, "knowledge_revision": 95, "git_revision": "2d488028ea1350cf2bece10ffc1b8f1543b07e1b", "revision_history": [{"22": ""}, {"36": ""}, {"37": "2d488028ea1350cf2bece10ffc1b8f1543b07e1b"}, {"95": "2d488028ea1350cf2bece10ffc1b8f1543b07e1b"}], "ctags": [], "filename": "BackendAPI/src/db/crud.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/music-streaming-service-21915-22055.git:kavia-main"}