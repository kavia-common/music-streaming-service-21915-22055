{"is_source_file": true, "format": "Python", "description": "This file defines API routes related to music streaming sessions in a FastAPI application. It includes endpoints to start and stop streaming sessions, handles request validation, interacts with streaming service functions, and manages responses and HTTP exceptions.", "external_files": ["src.api.deps", "src.db.models", "src.schemas.streaming", "src.services.streaming"], "external_methods": ["get_current_user", "get_db", "start_streaming_session", "stop_streaming_session"], "published": ["router"], "classes": [], "methods": [{"name": "StreamStartResponse start_stream( payload: StreamStartRequest, db: Session = Depends(get_db), current_user: UserModel = Depends(get_current_user), )", "description": "Handles POST requests to start a streaming session for the authenticated user, validates request, calls service function, and returns streaming details.", "scope": "", "scopeKind": ""}, {"name": "dict stop_stream( payload: StreamStopRequest, db: Session = Depends(get_db), current_user: UserModel = Depends(get_current_user), )", "description": "Handles POST requests to stop a streaming session, records playback information, and responds with status.", "scope": "", "scopeKind": ""}], "calls": ["start_streaming_session", "stop_streaming_session", "get_current_user", "get_db"], "search-terms": ["/stream/start", "/stream/stop", "streaming sessions", "FastAPI streaming routes", "music stream API"], "state": 2, "file_id": 26, "knowledge_revision": 65, "git_revision": "", "ctags": [{"_type": "tag", "name": "UserModel", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22055/BackendAPI/src/api/routes/streaming.py", "pattern": "/^from src.db.models import User as UserModel$/", "language": "Python", "kind": "unknown", "nameref": "unknown:User"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22055/BackendAPI/src/api/routes/streaming.py", "pattern": "/^router = APIRouter(prefix=\"\\/stream\", tags=[\"Catalog\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "start_stream", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22055/BackendAPI/src/api/routes/streaming.py", "pattern": "/^def start_stream($/", "language": "Python", "typeref": "typename:StreamStartResponse", "kind": "function", "signature": "( payload: StreamStartRequest, db: Session = Depends(get_db), current_user: UserModel = Depends(get_current_user), )"}, {"_type": "tag", "name": "stop_stream", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22055/BackendAPI/src/api/routes/streaming.py", "pattern": "/^def stop_stream($/", "language": "Python", "typeref": "typename:dict", "kind": "function", "signature": "( payload: StreamStopRequest, db: Session = Depends(get_db), current_user: UserModel = Depends(get_current_user), )"}], "hash": "ecd86d75dc24ba5a7c39081a036fbc76", "format-version": 4, "code-base-name": "BackendAPI", "filename": "BackendAPI/src/api/routes/streaming.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/stream\", tags=[\"Catalog\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"65": ""}]}