{"is_source_file": true, "format": "Python", "description": "This file defines API routes for searching a music catalog within a FastAPI application. It exposes a GET endpoint '/catalog/search' that allows filtering artists, albums, and tracks with optional parameters like genre, artist name, album title, and pagination settings. The function interacts with a database layer to retrieve search results and converts ORM objects into schema DTOs for API response.", "external_files": ["src.api.deps", "src.db.crud", "src.schemas.catalog"], "external_methods": ["get_db", "search_catalog", "ArtistOut.model_validate", "AlbumOut.model_validate", "TrackOut.model_validate"], "published": ["catalog_search"], "classes": [], "methods": [{"name": "Dict[str,List[Dict[str,Any]]] catalog_search( query: str = Query(..., description=\"Search query term\"), genre: Optional[str] = Query(None, description=\"Optional genre filter\"), artist: Optional[str] = Query(None, description=\"Optional artist filter (name)\"), album: Optional[str] = Query(None, description=\"Optional album filter (title)\"), limit: int = Query(25, ge=1, le=100, description=\"Max items per entity to return\"), page: int = Query(1, ge=1, description=\"Page number for pagination\"), db: Session = Depends(get_db), )", "description": "Handles the GET request to search across the music catalog with filters and pagination, returning JSON results with artists, albums, and tracks.", "scope": "", "scopeKind": ""}], "calls": ["search_catalog", "ArtistOut.model_validate", "AlbumOut.model_validate", "TrackOut.model_validate"], "search-terms": ["catalog", "search", "music", "API", "fastapi", "search_catalog", "schema", "DTO", "pagination", "filter"], "state": 2, "file_id": 21, "knowledge_revision": 52, "git_revision": "e8d38ec6b3b71fc0111fa5edd2a956c97ee8c2bb", "ctags": [{"_type": "tag", "name": "catalog_search", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22055/BackendAPI/src/api/routes/catalog.py", "pattern": "/^def catalog_search($/", "language": "Python", "typeref": "typename:Dict[str,List[Dict[str,Any]]]", "kind": "function", "signature": "( query: str = Query(..., description=\"Search query term\"), genre: Optional[str] = Query(None, description=\"Optional genre filter\"), artist: Optional[str] = Query(None, description=\"Optional artist filter (name)\"), album: Optional[str] = Query(None, description=\"Optional album filter (title)\"), limit: int = Query(25, ge=1, le=100, description=\"Max items per entity to return\"), page: int = Query(1, ge=1, description=\"Page number for pagination\"), db: Session = Depends(get_db), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22055/BackendAPI/src/api/routes/catalog.py", "pattern": "/^router = APIRouter(prefix=\"\\/catalog\", tags=[\"Catalog\"])$/", "language": "Python", "kind": "variable"}], "hash": "a8d96271d75d31e47b2eef39351d5117", "format-version": 4, "code-base-name": "BackendAPI", "filename": "BackendAPI/src/api/routes/catalog.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/catalog\", tags=[\"Catalog\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"52": "e8d38ec6b3b71fc0111fa5edd2a956c97ee8c2bb"}]}